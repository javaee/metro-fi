<?xml version="1.0" encoding="utf-8"?><article>
  <title>Formatting specifications for UBL document types</title>
<articleinfo>

<copyright><year>2004</year><holder>OASIS</holder></copyright>
<pubdate>$Date: 2006-12-20 21:26:13 $(UTC)</pubdate>
</articleinfo>

<section>
<title>
Formatting specifications for UBL document types</title>

<para>This collection contains examples of formatting specifications that can be followed to display instances of Universal Business Language (UBL) document types in human-readable form.  Presentational semantics have not been formalized in this version of the UBL schema library, and they may never be formalized due to differing international requirements and conventions for the presentation of information found in business documents. </para>

<para>
These specifications must not be considered as reference implementations of UBL or as normative components of the UBL specification; they are merely examples from one of what will probably be many available UBL stylesheet libraries and transformation products and technologies.</para>

<para>The formatting specifications referenced below point to various layouts for the presentation of the information found in UBL instances.  Two sets of layouts are simplified presentations of the example Office and Joinery scenarios.  The third set of layouts is intended to conform to the United Nations Layout Key for printed business documents, though no attempt has been made to measure their conformance or completeness.</para>

<section>
<title>
The difference between formatting specifications and stylesheets</title>
<para>
A formatting specification is a recipe for a stylesheet, but is not in and of itself a transformation script.  Writers of stylesheets, programs, or any other open and proprietary transformation technologies rely on formatting specifications for direction regarding content identification and layout.</para>
<para>
These formatting specifications follow the documentation conventions described below to indicate which content in an instance of a UBL document type belongs on the page for the sample layout.  PDF files are used to illustrate the sample layouts, though in these non-normative samples there are no detailed specifications of layout dimensions and formatting properties per se.</para>
</section>
<section>
<title>
Links to specifications for the document types</title>
<para>
The following collection of formatting specifications describes candidate renderings for the following UBL document types:</para>

<itemizedlist>
<listitem><para>
<ulink url="FS-UBL-DespatchAdvice.html">UBL Despatch Advice</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-Invoice.html">UBL Invoice</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-Order.html">UBL Order</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-OrderChange.html">UBL Order Change</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-OrderCancellation.html">UBL Order Cancellation</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-OrderResponse.html">UBL Order Response</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-OrderResponseSimple.html">UBL Order Response Simple</ulink></para>
</listitem>
<listitem><para>
<ulink url="FS-UBL-ReceiptAdvice.html">UBL Receipt Advice</ulink></para>
</listitem>
</itemizedlist>
</section>
</section>

<section role="items">
<title>
Documentation conventions </title>

<para>
The following is an example of the documentation found in a formatting specification for a given field of a form on the rendered output.</para>

<section role="item">
<title>
Example form field information item documentation</title>

<table role="xpath"><title>XPath information</title><tgroup cols="1"><tbody><row><entry role="groups"/><entry role="rows"/><entry role="cols"/><entry role="xpath"><literal>/in:Invoice/cac:InvoiceLine/cbc:InvoicedQuantity</literal></entry></row><row><entry role="groups"/><entry role="rows"/><entry role="cols"/><entry role="xpath"><literal>/in:Invoice/cac:InvoiceLine/cbc:InvoicedQuantity/@quantityUnitCode</literal></entry></row></tbody></tgroup></table>

<para>
The box above includes two XML Path Language (XPath) addresses that document the locations of information found in an XML instance.   XPath addresses are used in XSLT stylesheets but can be used as above just for documentation because they are independent of the technology being used for transformation.  The path is the route from the document element (the first step in the path) through to the information item actually being displayed.  </para>

<para>
In the first of the two examples above, the item being addressed is the <literal>cbc:InvoicedQuantity</literal> element that is a child of the <literal>cac:InvoiceLine</literal> element that is a child of the document element <literal>in:Invoice</literal>.  In the second of the two examples, the item being addressed is the <literal>quantityUnitCode</literal> attribute of the <literal>cbc:InvoicedQuantity</literal> element.</para>

<para>
The namespace prefixes are arbitrary but follow the documentary conventions used throughout UBL.  Each formatting specification enumerates the prefixes used for that document type and the associated normative namespace URI strings.</para>

<para>
The documented sections of the formatting specifications are oriented in the order of the fields found in the rendered result, approximately in the order of left to right from top to bottom (with some differences to accommodate logical groupings).</para>

<para>
The formatting specifications are meant to be transformation technology agnostic.  The specifications indicate what information goes where in the result, not how it gets there.  Different implementations of transformation technologies can meet the need for the information found at the specified XPath address to appear at the indicated location on the page.</para>

</section>

</section>

<section>
<title>
Example implementations
</title>

<para>A number of example implementations must not be considered as reference implementations of UBL formatting specifications or as normative components of the UBL delivery; they are merely examples from what will probably be many available UBL stylesheet libraries.</para>

<para>
See <ulink url="FS-implementations.html"><literal>FS-implementations.html</literal></ulink> for a list of known implementations of UBL Formatting Specifications at the time of publication.</para>

</section>

<section>
<title>
Feedback</title>

<para>
The UBL committees welcome your input.  We need feedback on the utility of the form layouts themselves and on the choice of XPath addresses for information that belongs in the form.</para>

<para>
If you have any comments regarding these formatting specifications, please do not hesitate to contact the UBL committees following the directions on the UBL home page.</para>

</section>

<section>
<title>
Documentation production notes</title>

<para>
All of the documentation files in these <literal>fs/</literal> directories are produced in HTML by formatting source documents edited in XML.  These XML source documents can all be found in the <literal>fs/xml/</literal> directory and were all validated using the <?nospell-start?>DocBook<?nospell-end?> 4.2 XML Document Type Definition (DTD).</para>

<para>
The enhancement stylesheet <literal>fs/xml/fsdb2db.xsl</literal> transforms a UBL formatting specification written in <?nospell-start?>DocBook<?nospell-end?> to produce an enhanced <?nospell-start?>DocBook<?nospell-end?> instance with some rearranged information for XPath addresses and committee editorial notes.</para>

<para>
Off-the-shelf <?nospell-start?>DocBook<?nospell-end?> stylesheets are then used on the enhanced instance to create the resulting HTML, invoked with only the <literal>section.autolabel=1</literal> parameter to engage the section numbering.</para>

<para>
See <ulink url="http://www.DocBook.org"><literal>http://www.DocBook.org</literal></ulink> for more information on <?nospell-start?>DocBook<?nospell-end?> and <ulink url="http://docbook.sourceforge.net/projects/xsl/"><literal>http://docbook.sourceforge.net/projects/xsl/</literal></ulink> for the stylesheets.</para>

<section>
<title>
Reported HTML presentation problems</title>

<para>
Some readers of these specifications have reported display problems with the presentation of the XPath addresses.  Reports typically indicate a mystery box-like character is being displayed after every oblique in the XPath address.  This is caused by the browser not correctly interpreting the Unicode character entity &amp;#8203; for a zero-width space.  When the browser correctly recognizes this character, it is interpreted as a space for the purposes of line-breaking, but the zero-width of the character gives the appearance of the surrounding characters being adjacent (when it is properly interpreted).
</para>
<para>
To illustrate, the following is the sequence "<literal>A&amp;#8203;B</literal>": "<literal>A&#8203;B</literal>" (which should appear as "<literal>AB</literal>").</para>

</section>

</section>
</article>
